<template>
  <header class="top-nav">
    <div class="nav-left">
      <h1 class="app-title">
        <span class="git-icon">ğŸ“Š</span>
        Git å®¢æˆ·ç«¯
      </h1>
    </div>
    <div class="nav-center">
      <div class="repo-input-container">
        <input
            type="text"
            :value="repoPath"
            @input="$emit('update:repo-path', $event.target.value)"
            placeholder="è¾“å…¥ Git ä»“åº“è·¯å¾„"
            @keyup.enter="$emit('load-repo')"
            class="repo-path-input"
        />
        <button @click="$emit('browse-repo')" class="browse-btn" title="æµè§ˆç›®å½•">
          ğŸ“
        </button>
      </div>
      <div class="repo-actions">
        <button @click="$emit('load-repo')" class="primary-btn">
          <span class="btn-icon">ğŸ“‚</span>
          åŠ è½½ä»“åº“
        </button>
        <button @click="$emit('refresh-data')" class="secondary-btn">
          <span class="btn-icon">ğŸ”„</span>
          åˆ·æ–°
        </button>
        <button @click="$emit('pull-changes')" class="secondary-btn">
          <span class="btn-icon">â¬‡ï¸</span>
          æ‹‰å–
        </button>
        <button @click="$emit('push-changes')" class="secondary-btn">
          <span class="btn-icon">â¬†ï¸</span>
          æ¨é€
        </button>
      </div>
    </div>
    <div class="nav-right">
      <div class="connection-status">
        <span
            :class="['status-indicator', {
            'connected': repoPath,
            'disconnected': !repoPath
          }]"
        ></span>
        <span class="status-text">{{ repoPath ? 'å·²è¿æ¥' : 'æœªè¿æ¥' }}</span>
      </div>
    </div>
  </header>
</template>

<script>
export default {
  name: 'TopNavBar',
  props: {
    repoPath: {
      type: String,
      required: true
    }
  },
  emits: [
    'browse-repo',
    'load-repo',
    'refresh-data',
    'pull-changes',
    'push-changes'
  ]
}
</script>